{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/main/.schema/devbox.schema.json",
  "packages": [
    "deno@latest",
    "ffmpeg@6",
    "biome@latest",
    "git@2",
    "curl@8",
    "wget@1",
    "httpie@3",
    "jq@1",
    "yq-go@4",
    "ripgrep@14",
    "fd@9",
    "bat@0.24",
    "eza@0.18",
  ],
  "env": {
    "DENO_DIR": "$DEVBOX_PROJECT_ROOT/.deno",
    "DENO_FUTURE": "1",
    "BIOME_CACHE_DIR": "$DEVBOX_PROJECT_ROOT/.biome",
    "PATH": "$DEVBOX_PROJECT_ROOT/bin:$PATH"
  },
  "shell": {
    "init_hook": [
      "# Load .env if exists",
      "if [ -f \"$DEVBOX_PROJECT_ROOT/.env\" ]; then set -a && source \"$DEVBOX_PROJECT_ROOT/.env\" && set +a; fi",
      "",
      "# Create project binary directory",
      "mkdir -p $DEVBOX_PROJECT_ROOT/bin",
      "",
      "# Welcome message",
      "echo \"ðŸŽ¬ Twitter/X Video Downloader é–‹ç™ºç’°å¢ƒ\"",
      "echo \"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\"",
      "echo \"Deno: $(deno --version | head -n1)\"",
      "echo \"FFmpeg: $(ffmpeg -version | head -n1)\"",
      "echo \"\"",
      "",
      "# Aliases",
      "alias tw='deno task tw'",
      "alias ll='eza -la --icons'",
      "alias cat='bat --style=numbers'",
      "alias find='fd'",
      "alias grep='rg'",
      "",
      "# Install Biome globally (first time only)",
      "if ! command -v biome &> /dev/null; then",
      "    deno install --allow-env --allow-read --allow-sys --global npm:@biomejs/biome",
      "fi",
      "",
      "# Check dev server ports",
      "function check_ports() {",
      "    echo 'Port status:'",
      "    lsof -i :8000 -i :3000 -i :5173 2>/dev/null || echo '  All ports available'",
      "}"
    ],
    "scripts": {
      "tw": "deno task tw",
      "test": "deno task test",
      "lint": "deno task lint",
      "format": "deno task format",
      "check": "deno task lint && deno check packages/shared/mod.ts packages/api/mod.ts packages/cli/mod.ts",
      "dev:api": "deno task dev:api",
      "dev:web": "deno task dev:web",
      "build:web": "deno task build:web",
      "clean": "rm -rf .deno .biome node_modules packages/web/node_modules packages/web/dist",
      "setup": "deno install",
      "help": "echo 'Available commands:' && echo '  devbox run tw <URL>     - Download video' && echo '  devbox run test         - Run tests' && echo '  devbox run lint         - Lint check' && echo '  devbox run format       - Format code' && echo '  devbox run check        - Type check + lint' && echo '  devbox run dev:api      - Start API server' && echo '  devbox run dev:web      - Start WebUI dev server' && echo '  devbox run build:web    - Build WebUI' && echo '  devbox run clean        - Clear caches' && echo '  devbox run setup        - Install dependencies'"
    }
  },
  "include": []
}